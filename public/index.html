<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Quiz Conquest - ECE Professional Online Examination Platform">
    <meta name="robots" content="noindex, nofollow">
    <title>Quiz Conquest - ECE Online Exam Platform</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="alternate icon" href="/favicon.ico">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/3d-theme.css">

    <style>
        /* Page-specific styles */
        .login-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-lg);
            position: relative;
            z-index: 10;
        }

        .login-container {
            width: 100%;
            max-width: 440px;
        }

        .login-header {
            text-align: center;
            margin-bottom: var(--space-2xl);
        }

        .login-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        .login-logo-icon {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            box-shadow: var(--shadow-glow);
            background: linear-gradient(135deg, #0055ff, #00ccff);
        }

        .login-logo-text {
            font-size: 1.75rem;
            font-weight: 700;
        }

        .login-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Loading Screen Fix */
        .loading-screen {
            background: #000;
        }

        .event-info {
            margin-top: var(--space-xl);
            padding-top: var(--space-xl);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .event-info-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-sm) 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .event-info-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-light);
        }

        .admin-link {
            display: block;
            text-align: center;
            margin-top: var(--space-xl);
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .admin-link a {
            color: var(--text-secondary);
        }

        .admin-link a:hover {
            color: var(--primary-light);
        }

        .inactive-notice {
            display: none;
        }

        .inactive-notice.show {
            display: block;
        }

        /* Shared 3D Logo Styles */
        .background-logo {
            position: fixed;
            opacity: 0.12;
            z-index: 0;
            pointer-events: none;
            width: 50vw;
            max-width: 500px;
        }

        /* VSBEC Logo Position (Top Left) */
        .background-logo:not(.logo-cc) {
            top: 25%;
            left: 25%;
            transform: translate(-50%, -50%) perspective(1000px) rotateY(-10deg) rotateX(5deg);
            animation: floatVsbec 10s ease-in-out infinite;
        }

        /* Current Conquest Logo Position (Bottom Right) */
        .logo-cc {
            top: 75%;
            left: 75%;
            transform: translate(-50%, -50%) perspective(1000px) rotateY(10deg) rotateX(-5deg);
            animation: floatCc 12s ease-in-out infinite;
            width: 60vw;
            max-width: 600px;
            opacity: 0.15;
            filter: drop-shadow(0 0 40px rgba(255, 140, 0, 0.3));
        }

        @keyframes floatVsbec {

            0%,
            100% {
                transform: translate(-50%, -50%) perspective(1000px) rotateY(-10deg) rotateX(5deg) translateZ(0);
            }

            50% {
                transform: translate(-50%, -50%) perspective(1000px) rotateY(5deg) rotateX(-5deg) translateZ(30px);
            }
        }

        @keyframes floatCc {

            0%,
            100% {
                transform: translate(-50%, -50%) perspective(1000px) rotateY(10deg) rotateX(-5deg) translateZ(0);
            }

            50% {
                transform: translate(-50%, -50%) perspective(1000px) rotateY(-5deg) rotateX(5deg) translateZ(40px);
            }
        }
    </style>
</head>

<body>
    <!-- 3D Background Logo - VSBEC Kanal 2026 -->
    <div class="background-logo">
        <svg viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="flameGradient" x1="0%" y1="100%" x2="0%" y2="0%">
                    <stop offset="0%" style="stop-color:#ff6b35;stop-opacity:1" />
                    <stop offset="50%" style="stop-color:#ffa500;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ffff00;stop-opacity:1" />
                </linearGradient>
                <filter id="glow">
                    <feGaussianBlur stdDeviation="3" result="coloredBlur" />
                    <feMerge>
                        <feMergeNode in="coloredBlur" />
                        <feMergeNode in="SourceGraphic" />
                    </feMerge>
                </filter>
            </defs>
            <text x="80" y="70" font-family="Inter, Arial, sans-serif" font-size="28" font-weight="600"
                fill="rgba(255,255,255,0.9)" letter-spacing="8">VSBEC</text>
            <text x="50" y="130" font-family="Inter, Arial, sans-serif" font-size="60" font-weight="700"
                fill="rgba(255,255,255,0.95)" letter-spacing="2">Kanal</text>
            <g transform="translate(280, 40)">
                <rect x="15" y="60" width="12" height="50" rx="3" fill="#8B4513" />
                <rect x="10" y="55" width="22" height="12" rx="2" fill="#CD853F" />
                <path d="M21 55 Q21 30, 10 20 Q15 35, 21 40 Q27 35, 32 20 Q21 30, 21 55" fill="url(#flameGradient)"
                    filter="url(#glow)">
                    <animate attributeName="d"
                        values="M21 55 Q21 30, 10 20 Q15 35, 21 40 Q27 35, 32 20 Q21 30, 21 55;M21 55 Q21 25, 8 15 Q16 32, 21 38 Q26 32, 34 15 Q21 25, 21 55;M21 55 Q21 30, 10 20 Q15 35, 21 40 Q27 35, 32 20 Q21 30, 21 55"
                        dur="1s" repeatCount="indefinite" />
                </path>
                <path d="M21 55 Q21 40, 16 35 Q19 42, 21 45 Q23 42, 26 35 Q21 40, 21 55" fill="#fff8dc" opacity="0.8">
                    <animate attributeName="d"
                        values="M21 55 Q21 40, 16 35 Q19 42, 21 45 Q23 42, 26 35 Q21 40, 21 55;M21 55 Q21 38, 14 32 Q18 40, 21 43 Q24 40, 28 32 Q21 38, 21 55;M21 55 Q21 40, 16 35 Q19 42, 21 45 Q23 42, 26 35 Q21 40, 21 55"
                        dur="0.8s" repeatCount="indefinite" />
                </path>
            </g>
            <text x="220" y="170" font-family="Inter, Arial, sans-serif" font-size="36" font-weight="600"
                fill="rgba(255,255,255,0.85)" letter-spacing="4">2026</text>
        </svg>
    </div>

    <!-- 3D Background Logo - CURRENT CONQUEST -->
    <div class="background-logo logo-cc">
        <svg viewBox="0 0 500 300" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="textGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#ff9900;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#ff5500;stop-opacity:1" />
                </linearGradient>
                <filter id="ccGlow">
                    <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                    <feMerge>
                        <feMergeNode in="coloredBlur" />
                        <feMergeNode in="SourceGraphic" />
                    </feMerge>
                </filter>
            </defs>

            <!-- Mountain Icon -->
            <path d="M250 40 L290 90 L210 90 Z" fill="#fff" opacity="0.9" transform="translate(0, -10)" />
            <path d="M250 40 L270 90 L230 90 Z" fill="#eee" opacity="0.5" transform="translate(0, -10)" />

            <!-- CURRENT Text -->
            <text x="250" y="140" font-family="Arial Black, Impact, sans-serif" font-size="70" font-weight="900"
                font-style="italic" fill="#fff" text-anchor="middle" letter-spacing="2"
                transform="rotate(-5, 250, 150)">CURRENT</text>

            <!-- CONQUEST Text -->
            <text x="250" y="210" font-family="Arial Black, Impact, sans-serif" font-size="85" font-weight="900"
                font-style="italic" fill="url(#textGradient)" text-anchor="middle" letter-spacing="1"
                filter="url(#ccGlow)" transform="rotate(-5, 250, 150)">CONQUEST</text>

            <!-- Lightning Bolt -->
            <path d="M280 180 L240 240 L270 240 L230 300 L260 250 L230 250 L270 180 Z" fill="#ffcc00" stroke="#fff"
                stroke-width="2" transform="rotate(-15, 250, 240) translate(20, -20)" />

            <!-- Decor lines -->
            <path d="M50 160 L450 100" stroke="#ff9900" stroke-width="3" stroke-opacity="0.6" stroke-linecap="round" />
            <path d="M50 240 L450 180" stroke="#ff9900" stroke-width="3" stroke-opacity="0.6" stroke-linecap="round" />
        </svg>
    </div>

    <!-- 3D Canvas Container -->
    <div id="canvas-container"></div>

    <!-- VSBEC Kanal 2026 Intro Animation Screen -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-particles" id="introParticles"></div>

        <div class="intro-logo-container">
            <!-- Animated Torch -->
            <div class="intro-torch">
                <div class="torch-handle"></div>
                <div class="torch-bowl"></div>
                <div class="flame-container">
                    <div class="flame flame-1"></div>
                    <div class="flame flame-2"></div>
                    <div class="flame flame-3"></div>
                    <div class="flame-glow"></div>
                </div>
                <div class="torch-sparks">
                    <span></span><span></span><span></span><span></span><span></span>
                    <span></span><span></span><span></span><span></span><span></span>
                </div>
            </div>

            <!-- Logo Text -->
            <div class="intro-text">
                <div class="intro-vsbec">VSBEC</div>
                <div class="intro-kanal">Kanal</div>
                <div class="intro-year">2026</div>
            </div>
        </div>

        <div class="intro-tagline">ECE Professional Online Examination Platform</div>
        <div class="intro-loading">
            <div class="intro-loading-bar"></div>
        </div>
    </div>

    <style>
        /* Intro Screen Styles */
        .intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #0a1628 0%, #000000 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            overflow: hidden;
        }

        .intro-screen.fade-out {
            animation: introFadeOut 1s ease-out forwards;
        }

        @keyframes introFadeOut {
            0% {
                opacity: 1;
                transform: scale(1);
            }

            100% {
                opacity: 0;
                transform: scale(1.1);
                pointer-events: none;
            }
        }

        .intro-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .intro-particles span {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 165, 0, 0.8);
            border-radius: 50%;
            animation: particleFloat 4s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(255, 165, 0, 0.5);
        }

        @keyframes particleFloat {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .intro-logo-container {
            display: flex;
            align-items: center;
            gap: 40px;
            animation: logoEntrance 2s ease-out forwards;
            transform: scale(0.8) translateY(50px);
            opacity: 0;
        }

        @keyframes logoEntrance {
            0% {
                transform: scale(0.5) translateY(100px) rotateX(30deg);
                opacity: 0;
            }

            50% {
                transform: scale(1.1) translateY(-20px) rotateX(-5deg);
                opacity: 1;
            }

            100% {
                transform: scale(1) translateY(0) rotateX(0deg);
                opacity: 1;
            }
        }

        /* Torch Styles */
        .intro-torch {
            position: relative;
            width: 80px;
            height: 200px;
            animation: torchFloat 3s ease-in-out infinite;
        }

        @keyframes torchFloat {

            0%,
            100% {
                transform: translateY(0) rotate(-2deg);
            }

            50% {
                transform: translateY(-10px) rotate(2deg);
            }
        }

        .torch-handle {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 100px;
            background: linear-gradient(90deg, #8B4513, #CD853F, #8B4513);
            border-radius: 5px;
            box-shadow: inset -3px 0 5px rgba(0, 0, 0, 0.3);
        }

        .torch-bowl {
            position: absolute;
            bottom: 90px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 25px;
            background: linear-gradient(180deg, #CD853F, #8B4513);
            border-radius: 5px 5px 10px 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .flame-container {
            position: absolute;
            bottom: 110px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 100px;
        }

        .flame {
            position: absolute;
            bottom: 0;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: flicker 0.5s ease-in-out infinite alternate;
        }

        .flame-1 {
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 80px;
            background: linear-gradient(0deg, #ff6b35 0%, #ffa500 40%, #ffff00 80%, #fff 100%);
            filter: blur(2px);
        }

        .flame-2 {
            left: 30%;
            transform: translateX(-50%);
            width: 25px;
            height: 50px;
            background: linear-gradient(0deg, #ff6b35 0%, #ffa500 60%, #ffff00 100%);
            animation-delay: 0.2s;
            filter: blur(1px);
        }

        .flame-3 {
            left: 70%;
            transform: translateX(-50%);
            width: 25px;
            height: 50px;
            background: linear-gradient(0deg, #ff6b35 0%, #ffa500 60%, #ffff00 100%);
            animation-delay: 0.4s;
            filter: blur(1px);
        }

        @keyframes flicker {
            0% {
                transform: translateX(-50%) scaleY(1) scaleX(1);
                opacity: 1;
            }

            25% {
                transform: translateX(-50%) scaleY(1.1) scaleX(0.9);
            }

            50% {
                transform: translateX(-50%) scaleY(0.95) scaleX(1.05);
            }

            75% {
                transform: translateX(-50%) scaleY(1.05) scaleX(0.95);
            }

            100% {
                transform: translateX(-50%) scaleY(1) scaleX(1);
                opacity: 0.9;
            }
        }

        .flame-glow {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(ellipse, rgba(255, 165, 0, 0.6) 0%, rgba(255, 107, 53, 0.3) 40%, transparent 70%);
            animation: glowPulse 1s ease-in-out infinite alternate;
        }

        @keyframes glowPulse {
            0% {
                transform: translateX(-50%) scale(1);
                opacity: 0.6;
            }

            100% {
                transform: translateX(-50%) scale(1.2);
                opacity: 1;
            }
        }

        .torch-sparks span {
            position: absolute;
            bottom: 60px;
            width: 3px;
            height: 3px;
            background: #ffff00;
            border-radius: 50%;
            animation: spark 1.5s ease-out infinite;
            box-shadow: 0 0 6px #ffa500;
        }

        .torch-sparks span:nth-child(1) {
            left: 35%;
            animation-delay: 0s;
        }

        .torch-sparks span:nth-child(2) {
            left: 45%;
            animation-delay: 0.2s;
        }

        .torch-sparks span:nth-child(3) {
            left: 55%;
            animation-delay: 0.4s;
        }

        .torch-sparks span:nth-child(4) {
            left: 65%;
            animation-delay: 0.6s;
        }

        .torch-sparks span:nth-child(5) {
            left: 40%;
            animation-delay: 0.8s;
        }

        .torch-sparks span:nth-child(6) {
            left: 50%;
            animation-delay: 1s;
        }

        .torch-sparks span:nth-child(7) {
            left: 60%;
            animation-delay: 1.2s;
        }

        .torch-sparks span:nth-child(8) {
            left: 38%;
            animation-delay: 0.3s;
        }

        .torch-sparks span:nth-child(9) {
            left: 52%;
            animation-delay: 0.7s;
        }

        .torch-sparks span:nth-child(10) {
            left: 62%;
            animation-delay: 1.1s;
        }

        @keyframes spark {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translateY(-80px) translateX(var(--spark-x, 10px)) scale(0);
                opacity: 0;
            }
        }

        .torch-sparks span:nth-child(odd) {
            --spark-x: -15px;
        }

        .torch-sparks span:nth-child(even) {
            --spark-x: 15px;
        }

        /* Text Styles */
        .intro-text {
            text-align: left;
        }

        .intro-vsbec {
            font-family: 'Inter', sans-serif;
            font-size: 2rem;
            font-weight: 600;
            letter-spacing: 12px;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 0 0 20px rgba(255, 165, 0, 0.5);
            animation: textGlow 2s ease-in-out infinite alternate;
            animation-delay: 0.5s;
            opacity: 0;
            animation: textReveal 1s ease-out 0.5s forwards, textGlow 2s ease-in-out 1.5s infinite alternate;
        }

        .intro-kanal {
            font-family: 'Inter', sans-serif;
            font-size: 5rem;
            font-weight: 700;
            letter-spacing: 4px;
            background: linear-gradient(180deg, #ffffff 0%, #ffa500 50%, #ff6b35 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 30px rgba(255, 165, 0, 0.8));
            opacity: 0;
            animation: textReveal 1s ease-out 0.8s forwards;
        }

        .intro-year {
            font-family: 'Inter', sans-serif;
            font-size: 2.5rem;
            font-weight: 600;
            letter-spacing: 8px;
            color: rgba(255, 255, 255, 0.85);
            text-shadow: 0 0 15px rgba(255, 107, 53, 0.6);
            opacity: 0;
            animation: textReveal 1s ease-out 1.1s forwards;
        }

        @keyframes textReveal {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes textGlow {
            0% {
                text-shadow: 0 0 20px rgba(255, 165, 0, 0.5);
            }

            100% {
                text-shadow: 0 0 40px rgba(255, 165, 0, 0.8), 0 0 60px rgba(255, 107, 53, 0.4);
            }
        }

        .intro-tagline {
            margin-top: 40px;
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 3px;
            text-transform: uppercase;
            opacity: 0;
            animation: textReveal 1s ease-out 1.5s forwards;
        }

        .intro-loading {
            position: absolute;
            bottom: 60px;
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
            opacity: 0;
            animation: textReveal 0.5s ease-out 2s forwards;
        }

        .intro-loading-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #ff6b35, #ffa500, #ffff00);
            border-radius: 2px;
            animation: loadingProgress 2.5s ease-in-out 2s forwards;
        }

        @keyframes loadingProgress {
            0% {
                width: 0%;
            }

            100% {
                width: 100%;
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .intro-logo-container {
                flex-direction: column;
                gap: 20px;
            }

            .intro-torch {
                transform: scale(0.8);
            }

            .intro-kanal {
                font-size: 3.5rem;
            }

            .intro-text {
                text-align: center;
            }
        }
    </style>

    <!-- Main Login Page -->
    <main class="login-page" id="loginPage" style="display: none;">
        <div class="login-container fade-in">
            <div class="login-header">
                <!-- HTML Logo Hidden, Replaced by 3D Animation -->
                <div class="login-logo" style="display: none;">
                    <div class="login-logo-icon">QC</div>
                    <span class="login-logo-text title-gradient">Quiz Conquest</span>
                </div>
                <p class="login-subtitle" style="display: none;">ECE Professional Online Examination Platform</p>
            </div>

            <!-- Event Inactive Notice -->
            <div class="alert alert-warning inactive-notice" id="inactiveNotice">
                <svg class="alert-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                </svg>
                <div>
                    <strong>Event Not Active</strong>
                    <p>The examination event has not started yet. Please wait for the coordinator to activate the event.
                    </p>
                </div>
            </div>

            <div class="login-card" id="loginCard">
                <h2 style="color: #fff;">Participant Registration</h2>

                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label" for="participantName" style="color: rgba(255,255,255,0.7);">Full Name
                            *</label>
                        <input type="text" id="participantName" name="name" class="form-input"
                            placeholder="Enter your full name" required autocomplete="name">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="collegeName" style="color: rgba(255,255,255,0.7);">College Name
                            *</label>
                        <input type="text" id="collegeName" name="collegeName" class="form-input"
                            placeholder="Enter your college name" required autocomplete="organization">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="phoneNumber" style="color: rgba(255,255,255,0.7);">Phone Number
                            *</label>
                        <input type="tel" id="phoneNumber" name="phoneNumber" class="form-input"
                            placeholder="Enter your phone number" required autocomplete="tel" pattern="[0-9]{10}"
                            title="Please enter a 10-digit phone number">
                    </div>

                    <div id="formError" class="alert alert-danger" style="display: none;">
                        <span id="errorMessage"></span>
                    </div>

                    <button type="submit" class="btn btn-primary btn-lg btn-block" id="loginBtn">
                        <span id="loginBtnText">Join Examination</span>
                        <div class="spinner" id="loginSpinner" style="display: none;"></div>
                    </button>
                </form>

                <div class="event-info">
                    <div class="event-info-item">
                        <span class="event-info-icon">üìã</span>
                        <span>3 Rounds of MCQ examination</span>
                    </div>
                    <div class="event-info-item">
                        <span class="event-info-icon">‚è±Ô∏è</span>
                        <span>15 questions per round, 15 minutes each</span>
                    </div>
                    <div class="event-info-item">
                        <span class="event-info-icon">üèÜ</span>
                        <span>Top performers qualify for next rounds</span>
                    </div>
                </div>
            </div>

            <p class="admin-link">
                Event Coordinator? <a href="/admin">Admin Login</a>
            </p>
        </div>
    </main>

    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Floating Orbs for CSS animations -->
    <div class="floating-orbs">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
    </div>
    <div class="cyber-grid"></div>
    <div class="hex-pattern"></div>

    <script>
        /**
         * Liquid Monochrome 3D Background
         * Ferrofluid / Chrome Liquid Style
         */
        (function () {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x000000);
            scene.fog = new THREE.Fog(0x000000, 10, 50);

            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 20;

            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.outputEncoding = THREE.sRGBEncoding;
            container.appendChild(renderer.domElement);

            // Lighting for Metallic Liquid
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
            scene.add(ambientLight);

            // Main white light
            const light1 = new THREE.PointLight(0xffffff, 2, 50);
            light1.position.set(10, 10, 10);
            scene.add(light1);

            // Rim light (cool white)
            const light2 = new THREE.PointLight(0xffffff, 1.5, 50);
            light2.position.set(-10, -5, 10);
            scene.add(light2);

            // Back light for silhouette
            const light3 = new THREE.DirectionalLight(0xffffff, 0.5);
            light3.position.set(0, 5, -10);
            scene.add(light3);

            // Liquid Chrome Material
            const cubeRenderTarget = new THREE.WebGLCubeRenderTarget(256, {
                format: THREE.RGBFormat,
                generateMipmaps: true,
                minFilter: THREE.LinearMipmapLinearFilter
            });

            const cubeCamera = new THREE.CubeCamera(1, 1000, cubeRenderTarget);
            scene.add(cubeCamera);

            const material = new THREE.MeshStandardMaterial({
                color: 0x111111,
                roughness: 0.1,
                metalness: 1.0,
                envMap: cubeRenderTarget.texture,
                envMapIntensity: 1.0
            });

            // Group for liquid blobs
            const liquidGroup = new THREE.Group();
            scene.add(liquidGroup);

            // Create blobs
            const blobs = [];
            const blobCount = 15;
            const geometry = new THREE.SphereGeometry(1, 64, 64);

            for (let i = 0; i < blobCount; i++) {
                const mesh = new THREE.Mesh(geometry, material);
                resetBlob(mesh);
                liquidGroup.add(mesh);
                blobs.push({
                    mesh: mesh,
                    speed: 0.005 + Math.random() * 0.01,
                    angle: Math.random() * Math.PI * 2,
                    radius: 2 + Math.random() * 8, // Orbit radius
                    yOffset: (Math.random() - 0.5) * 10
                });
            }

            function resetBlob(mesh) {
                const scale = 0.5 + Math.random() * 1.5;
                mesh.scale.set(scale, scale, scale);
                mesh.position.set(
                    (Math.random() - 0.5) * 20,
                    (Math.random() - 0.5) * 20,
                    (Math.random() - 0.5) * 10
                );
            }

            // Central "Main" Liquid Sphere
            const mainSphereGeo = new THREE.IcosahedronGeometry(4, 4); // High detail
            const mainSphere = new THREE.Mesh(mainSphereGeo, material);
            liquidGroup.add(mainSphere);

            // Starfield (Black and White)
            const starGeo = new THREE.BufferGeometry();
            const starCount = 1000;
            const starPos = new Float32Array(starCount * 3);
            for (let i = 0; i < starCount * 3; i++) {
                starPos[i] = (Math.random() - 0.5) * 100;
            }
            starGeo.setAttribute('position', new THREE.BufferAttribute(starPos, 3));
            const starMat = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.1,
                transparent: true,
                opacity: 0.8
            });
            const stars = new THREE.Points(starGeo, starMat);
            scene.add(stars);


            // Animation Loop
            let time = 0;
            let frameCount = 0;

            function animate() {
                requestAnimationFrame(animate);
                time += 0.01;
                frameCount++;

                // Animate blobs
                blobs.forEach(blob => {
                    blob.mesh.position.x = Math.cos(time * blob.speed + blob.angle) * blob.radius;
                    blob.mesh.position.z = Math.sin(time * blob.speed + blob.angle) * blob.radius * 0.5;
                    blob.mesh.position.y = Math.sin(time * 0.5 + blob.angle) * 2 + blob.yOffset;

                    // "Breathing" scale effect
                    const scaleVar = Math.sin(time * 2 + blob.angle) * 0.1 + 1;
                    blob.mesh.scale.multiplyScalar(1).setScalar(blob.mesh.userData.baseScale * scaleVar || blob.mesh.scale.x);
                    if (!blob.mesh.userData.baseScale) blob.mesh.userData.baseScale = blob.mesh.scale.x;
                });

                // Deform main sphere (vertex animation simulation)
                // Note: True vertex shader is better for performance, but simple rotation/scale works for "liquid" feel here
                mainSphere.rotation.y = time * 0.2;
                mainSphere.rotation.z = time * 0.1;

                // Distort main sphere vertices slightly (Noise effect)
                // For simplicity/performance in this context, we just rotate and float
                mainSphere.position.y = Math.sin(time) * 0.5;

                // Camera drift
                camera.position.x = Math.sin(time * 0.1) * 2;
                camera.position.y = Math.cos(time * 0.1) * 2;
                camera.lookAt(scene.position);

                // Update reflections - only every 10 frames to reduce load
                // and avoid feedback loop by temporarily removing envMap from materials
                if (frameCount % 10 === 0) {
                    // Temporarily remove envMap from materials to avoid feedback loop
                    material.envMap = null;
                    mainSphere.visible = false;
                    blobs.forEach(blob => { blob.mesh.visible = false; });

                    cubeCamera.position.copy(mainSphere.position);
                    cubeCamera.update(renderer, scene);

                    // Restore visibility and envMap
                    mainSphere.visible = true;
                    blobs.forEach(blob => { blob.mesh.visible = true; });
                    material.envMap = cubeRenderTarget.texture;
                }

                renderer.render(scene, camera);
            }

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            animate();
        })();
    </script>

    <script>
        /**
         * Quiz Conquest - Participant Login Page
         */
        (function () {
            'use strict';

            // DOM Elements
            const introScreen = document.getElementById('introScreen');
            const introParticles = document.getElementById('introParticles');
            const loginPage = document.getElementById('loginPage');
            const loginForm = document.getElementById('loginForm');
            const loginBtn = document.getElementById('loginBtn');
            const loginBtnText = document.getElementById('loginBtnText');
            const loginSpinner = document.getElementById('loginSpinner');
            const formError = document.getElementById('formError');
            const errorMessage = document.getElementById('errorMessage');
            const inactiveNotice = document.getElementById('inactiveNotice');
            const loginCard = document.getElementById('loginCard');

            // Create floating particles for intro
            function createIntroParticles() {
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('span');
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + 50 + '%';
                    particle.style.animationDelay = Math.random() * 4 + 's';
                    particle.style.animationDuration = (3 + Math.random() * 3) + 's';
                    introParticles.appendChild(particle);
                }
            }

            // Show login page after intro
            function showLoginAfterIntro() {
                setTimeout(() => {
                    introScreen.classList.add('fade-out');
                    setTimeout(() => {
                        introScreen.style.display = 'none';
                        loginPage.style.display = 'flex';
                    }, 1000);
                }, 4500); // 4.5 seconds for full animation
            }

            // API Helper
            async function api(endpoint, options = {}) {
                const response = await fetch(endpoint, {
                    ...options,
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    credentials: 'include'
                });
                return response.json();
            }

            // Show error message
            function showError(message) {
                errorMessage.textContent = message;
                formError.style.display = 'flex';
            }

            // Hide error message
            function hideError() {
                formError.style.display = 'none';
            }

            // Set loading state
            function setLoading(loading) {
                loginBtn.disabled = loading;
                loginBtnText.style.display = loading ? 'none' : 'inline';
                loginSpinner.style.display = loading ? 'inline-block' : 'none';
            }

            // Check session status
            async function checkSession() {
                try {
                    const result = await api('/api/participant/session');

                    if (result.success && result.authenticated) {
                        // Already logged in, skip intro and redirect to exam page
                        introScreen.style.display = 'none';
                        window.location.href = '/exam';
                        return;
                    }

                    // Not logged in - show intro animation then login
                    createIntroParticles();
                    showLoginAfterIntro();

                } catch (error) {
                    console.error('Session check error:', error);
                    // Still show intro animation
                    createIntroParticles();
                    showLoginAfterIntro();
                }
            }

            // Handle login form submission
            async function handleLogin(e) {
                e.preventDefault();
                hideError();

                const name = document.getElementById('participantName').value.trim();
                const collegeName = document.getElementById('collegeName').value.trim();
                const phoneNumber = document.getElementById('phoneNumber').value.trim();

                if (!name || !collegeName || !phoneNumber) {
                    showError('Please fill in all required fields');
                    return;
                }

                // Validate phone number (10 digits)
                if (!/^[0-9]{10}$/.test(phoneNumber)) {
                    showError('Please enter a valid 10-digit phone number');
                    return;
                }

                setLoading(true);

                try {
                    const result = await api('/api/participant/login', {
                        method: 'POST',
                        body: JSON.stringify({ name, collegeName, phoneNumber })
                    });

                    if (result.success) {
                        // Redirect to exam page
                        window.location.href = '/exam';
                    } else {
                        if (result.message.includes('not active')) {
                            inactiveNotice.classList.add('show');
                        }
                        showError(result.message || 'Login failed. Please try again.');
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    showError('Connection error. Please check your network and try again.');
                } finally {
                    setLoading(false);
                }
            }

            // Initialize
            loginForm.addEventListener('submit', handleLogin);
            checkSession();
        })();
    </script>
</body>

</html>